<script>
    import { onMount } from 'svelte';
    onMount(() => {
        let valueDisplays = document.querySelectorAll(".num");
        let interval = 4000;

        valueDisplays.forEach((valueDisplay) => {
          let startValue = 0;
          let endValue = parseInt(valueDisplay.getAttribute("data-val"));
          let duration = Math.floor(interval / endValue);
          let counter = setInterval(function () {
            startValue += 1;
            valueDisplay.textContent = startValue;
            if (startValue == endValue) {
              clearInterval(counter);
            }
          }, duration);
        });



    });

</script>

<section id="numbers" class="pt-24 pb-24 relative overflow-hidden">
    <div class="container max-w-7xl mx-auto">
        <div class="counters flex flex-col justify-between md:flex-row">
            <div class="counter flex flex-col items-center p-8">
                <h1 id="num" class="num text-10xl font-display font-black text-blue-600" data-val="1287">0000</h1>
                <h3 class="text-3xl font-black text-blue-600">Installed filters</h3>
            </div>

            <div class="counter flex flex-col items-center p-8">
                <h1 id="num" class="num text-10xl font-display font-black text-pink-400" data-val="3">0</h1>
                <h3 class="text-3xl font-black text-pink-400">Years of successful work</h3>
            </div>

            <div class="counter flex flex-col items-center p-8">
                <div class="flex flex-row">
                    <h1 id="num" class="num text-10xl font-display font-black text-indigo-600" data-val="99">00>
                    </h1>
                    <h1 class="text-10xl font-display font-black text-indigo-600">%</h1>
                </div>
                <h3 class="text-3xl font-black text-indigo-600">Happy custumers</h3>
            </div>

        </div>

    </div>
</section>
